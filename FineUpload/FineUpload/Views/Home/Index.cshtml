@{
    ViewBag.Title = "Index";
}
<link href="~/Content/FineUploader.css" rel="stylesheet" />
<h2>Fine Upload</h2>
<p><a href="http://fineuploader.com/">http://fineuploader.com/</a></p>
<p><a href="http://imageresizing.net/docs/howto/generate-versions">http://imageresizing.net/docs/howto/generate-versions</a></p>

<div id="manual-fine-uploader"></div>
<div id="triggerUpload" class="btn" style="margin-top: 10px;">
    <i class="icon-upload icon-white"></i>Enviar Arquivos
</div>

<div  class="row-fluid" style="margin-top: 20px">
    <div class="row-fluid">
        <ul class="thumbnails" id="lista-arquivo">
            
        </ul>
    </div>
</div>

<script>
    $(document).ready(function () {
        var manualuploader = $('#manual-fine-uploader').fineUploader({
            request: {
                endpoint: '/Home/UploadFile'
            },
            autoUpload: false,
            text: {
                uploadButton: '<div><i class="icon-upload icon-white"></i> Selecionar arquivos</div>'
            },
            validation: {
                allowedExtensions: ['jpeg', 'jpg', 'png'],
                sizeLimit: 4194304 // 4Mb = (1024 * 1024 bytes) * 4
            },
            classes: {
                success: 'alert alert-success',
                fail: 'alert alert-error'
            }
        }).on('complete', function (event, id, fileName, responseJSON) {
            if (responseJSON.success) {
                $('#lista-arquivo').append('<li><img class="thumbnail" alt="' + fileName + '"  src="' + responseJSON.img + '"></li>');
            }
        });;
        $('#triggerUpload').click(function () {
            manualuploader.fineUploader('uploadStoredFiles');
        });
    });
</script>



@section scripts
{
    <script src="~/Scripts/jquery.fineuploader-3.5.0.min.js"></script>
}
